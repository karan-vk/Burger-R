{"version":3,"sources":["containers/CheckOut/Contact data/ContactactData.js","containers/CheckOut/Contact data/ContactData.module.css"],"names":["ContactactData","state","orderForm","name","elementtype","elementConfig","type","placeholder","value","validation","required","valid","touched","street","zipcode","minLength","maxLength","country","email","delivery","options","displayValue","formIsValid","orderHandler","event","preventDefault","formData","formElementIdentifier","order","ingredients","props","ings","price","orderData","onOrderBurger","token","checkvalidity","rules","isValid","trim","length","inputChangedHandler","inputIdentifier","udatedOrderForm","updatedFormElement","target","setState","formElementsArray","key","this","push","id","config","form","onSubmit","map","formElement","invalid","shouldValidate","changed","btnType","clicked","disabled","loading","className","classes","ContactData","Component","connect","burgerBuilder","ingredient","totalPrice","auth","dispatch","actions","withErrorHandler","axios","module","exports"],"mappings":"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","file":"static/js/4.27dff0c4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"../../../components/UI/Button/Button\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\nimport classes from \"./ContactData.module.css\";\r\nimport axios from \"../../../axios\";\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport withErrorHandler from \"../../../HOC/Error/ErrorHandler\";\r\nimport * as actions from \"../../../store/actions/index\";\r\n\r\nclass ContactactData extends Component {\r\n  state = {\r\n    orderForm: {\r\n      name: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your Name\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      street: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Street\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      zipcode: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Zip\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true, minLength: 5, maxLength: 5 },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      country: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Country\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      email: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Your E-Mail\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      delivery: {\r\n        elementtype: \"select\",\r\n        elementConfig: {\r\n          options: [\r\n            { value: \"fastest\", displayValue: \"Fastest\" },\r\n            { value: \"cheapest\", displayValue: \"Cheapest\" },\r\n          ],\r\n        },\r\n        value: \"fastest\",\r\n        validation: {},\r\n        valid: true,\r\n      },\r\n    },\r\n    formIsValid: false,\r\n  };\r\n  orderHandler = (event) => {\r\n    event.preventDefault();\r\n    const formData = {};\r\n    for (let formElementIdentifier in this.state.orderForm) {\r\n      formData[formElementIdentifier] = this.state.orderForm[\r\n        formElementIdentifier\r\n      ].value;\r\n    }\r\n    const order = {\r\n      ingredients: this.props.ings,\r\n      price: this.props.price,\r\n      orderData: formData,\r\n    };\r\n    this.props.onOrderBurger(order, this.props.token);\r\n  };\r\n  checkvalidity = (value, rules) => {\r\n    let isValid = true;\r\n    if (rules.required) {\r\n      isValid = value.trim() !== \"\" && isValid;\r\n    }\r\n    if (rules.minLength) {\r\n      isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n    if (rules.maxLength) {\r\n      isValid = value.length <= rules.maxLength && isValid;\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  inputChangedHandler = (event, inputIdentifier) => {\r\n    const udatedOrderForm = {\r\n      ...this.state.orderForm,\r\n    };\r\n    const updatedFormElement = { ...udatedOrderForm[inputIdentifier] };\r\n    updatedFormElement.value = event.target.value;\r\n    updatedFormElement.valid = this.checkvalidity(\r\n      updatedFormElement.value,\r\n      updatedFormElement.validation\r\n    );\r\n    updatedFormElement.touched = true;\r\n    udatedOrderForm[inputIdentifier] = updatedFormElement;\r\n    let formIsValid = true;\r\n    for (let inputIdentifier in udatedOrderForm) {\r\n      formIsValid = udatedOrderForm[inputIdentifier].valid && formIsValid;\r\n    }\r\n\r\n    this.setState({ orderForm: udatedOrderForm, formIsValid: formIsValid });\r\n  };\r\n  render() {\r\n    const formElementsArray = [];\r\n    for (let key in this.state.orderForm) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.orderForm[key],\r\n      });\r\n    }\r\n    let form = (\r\n      <form onSubmit={this.orderHandler}>\r\n        {formElementsArray.map((formElement) => (\r\n          <Input\r\n            key={formElement.id}\r\n            elementtype={formElement.config.elementtype}\r\n            elementConfig={formElement.config.elementConfig}\r\n            value={formElement.config.value}\r\n            invalid={!formElement.config.valid}\r\n            shouldValidate={formElement.config.validation}\r\n            touched={formElement.config.touched}\r\n            changed={(event) => this.inputChangedHandler(event, formElement.id)}\r\n          />\r\n        ))}\r\n        <Button\r\n          btnType=\"Success\"\r\n          clicked={this.orderHandler}\r\n          disabled={!this.state.formIsValid}\r\n        >\r\n          Order\r\n        </Button>\r\n      </form>\r\n    );\r\n    if (this.props.loading) {\r\n      form = <Spinner />;\r\n    }\r\n    return (\r\n      <div className={classes.ContactData}>\r\n        <h4>Enter Your contact list</h4>\r\n        {form}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    ings: state.burgerBuilder.ingredient,\r\n    price: state.burgerBuilder.totalPrice,\r\n    loading: state.order.loading,\r\n    token: state.auth.token,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onOrderBurger: (orderData, token) => {\r\n      dispatch(actions.purchaseBurger(orderData, token));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStatetoProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(ContactactData, axios));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData_ContactData__3CG45\"};"],"sourceRoot":""}