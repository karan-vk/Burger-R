{"version":3,"sources":["containers/CheckOut/Contact data/ContactData.module.css","containers/CheckOut/Contact data/ContactactData.js"],"names":["module","exports","ContactactData","state","orderForm","name","elementtype","elementConfig","type","placeholder","value","validation","required","valid","touched","street","zipcode","minLength","maxLength","country","email","delivery","options","displayValue","formIsValid","orderHandler","event","preventDefault","formData","formElementIdentifier","order","ingredients","props","ings","price","orderData","onOrderBurger","checkvalidity","rules","isValid","trim","length","inputChangedHandler","inputIdentifier","udatedOrderForm","updatedFormElement","target","setState","formElementsArray","key","this","push","id","config","form","onSubmit","map","formElement","invalid","shouldValidate","changed","btnType","clicked","disabled","loading","className","classes","ContactData","Component","connect","burgerBuilder","ingredient","totalPrice","dispatch","actions","withErrorHandler","axios"],"mappings":"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","file":"static/js/4.c37224d1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData_ContactData__3CG45\"};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Button from \"../../../components/UI/Button/Button\";\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\nimport classes from \"./ContactData.module.css\";\r\nimport axios from \"../../../axios\";\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport withErrorHandler from \"../../../HOC/Error/ErrorHandler\";\r\nimport * as actions from \"../../../store/actions/index\";\r\n\r\nclass ContactactData extends Component {\r\n  state = {\r\n    orderForm: {\r\n      name: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your Name\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      street: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Street\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      zipcode: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Zip\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true, minLength: 5, maxLength: 5 },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      country: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Country\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      email: {\r\n        elementtype: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Your E-Mail\",\r\n        },\r\n        value: \"\",\r\n        validation: { required: true },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      delivery: {\r\n        elementtype: \"select\",\r\n        elementConfig: {\r\n          options: [\r\n            { value: \"fastest\", displayValue: \"Fastest\" },\r\n            { value: \"cheapest\", displayValue: \"Cheapest\" },\r\n          ],\r\n        },\r\n        value: \"fastest\",\r\n        validation: {},\r\n        valid: true,\r\n      },\r\n    },\r\n    formIsValid: false,\r\n  };\r\n  orderHandler = (event) => {\r\n    event.preventDefault();\r\n    const formData = {};\r\n    for (let formElementIdentifier in this.state.orderForm) {\r\n      formData[formElementIdentifier] = this.state.orderForm[\r\n        formElementIdentifier\r\n      ].value;\r\n    }\r\n    const order = {\r\n      ingredients: this.props.ings,\r\n      price: this.props.price,\r\n      orderData: formData,\r\n    };\r\n    this.props.onOrderBurger(order);\r\n  };\r\n  checkvalidity = (value, rules) => {\r\n    let isValid = true;\r\n    if (rules.required) {\r\n      isValid = value.trim() !== \"\" && isValid;\r\n    }\r\n    if (rules.minLength) {\r\n      isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n    if (rules.maxLength) {\r\n      isValid = value.length <= rules.maxLength && isValid;\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  inputChangedHandler = (event, inputIdentifier) => {\r\n    const udatedOrderForm = {\r\n      ...this.state.orderForm,\r\n    };\r\n    const updatedFormElement = { ...udatedOrderForm[inputIdentifier] };\r\n    updatedFormElement.value = event.target.value;\r\n    updatedFormElement.valid = this.checkvalidity(\r\n      updatedFormElement.value,\r\n      updatedFormElement.validation\r\n    );\r\n    updatedFormElement.touched = true;\r\n    udatedOrderForm[inputIdentifier] = updatedFormElement;\r\n    let formIsValid = true;\r\n    for (let inputIdentifier in udatedOrderForm) {\r\n      formIsValid = udatedOrderForm[inputIdentifier].valid && formIsValid;\r\n    }\r\n\r\n    this.setState({ orderForm: udatedOrderForm, formIsValid: formIsValid });\r\n  };\r\n  render() {\r\n    const formElementsArray = [];\r\n    for (let key in this.state.orderForm) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.orderForm[key],\r\n      });\r\n    }\r\n    let form = (\r\n      <form onSubmit={this.orderHandler}>\r\n        {formElementsArray.map((formElement) => (\r\n          <Input\r\n            key={formElement.id}\r\n            elementtype={formElement.config.elementtype}\r\n            elementConfig={formElement.config.elementConfig}\r\n            value={formElement.config.value}\r\n            invalid={!formElement.config.valid}\r\n            shouldValidate={formElement.config.validation}\r\n            touched={formElement.config.touched}\r\n            changed={(event) => this.inputChangedHandler(event, formElement.id)}\r\n          />\r\n        ))}\r\n        <Button\r\n          btnType=\"Success\"\r\n          clicked={this.orderHandler}\r\n          disabled={!this.state.formIsValid}\r\n        >\r\n          Order\r\n        </Button>\r\n      </form>\r\n    );\r\n    if (this.props.loading) {\r\n      form = <Spinner />;\r\n    }\r\n    return (\r\n      <div className={classes.ContactData}>\r\n        <h4>Enter Your contact list</h4>\r\n        {form}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    ings: state.burgerBuilder.ingredient,\r\n    price: state.burgerBuilder.totalPrice,\r\n    loading: state.order.loading,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onOrderBurger: (orderData) => {\r\n      dispatch(actions.purchaseBurger(orderData));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStatetoProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(ContactactData, axios));\r\n"],"sourceRoot":""}